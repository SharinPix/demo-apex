<apex:page standardController="Contact" extensions="SharinPixDemoGpsCtrl">
    <h1 id="gps"></h1>
    <iframe id="sharinpix" src="{!url}" style="border: 0; width: 100%; height: 500px;"/>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=" crossorigin="anonymous"></script>
    <script>
        $(function() {
            $(window).on('message', function(e) {
                if (e.originalEvent.data.name == 'viewer-image-viewed') {
                    try {
                    	$('#gps').html(e.originalEvent.data.payload.image.gps.join(', '));
                    } catch (e) {
						$('#gps').html('No GPS attached.');
                    }
                }
                if (e.originalEvent.data.name == 'viewer-closed') {
                    $('#gps').html('');
                }
            });
        });
    </script>
</apex:page>